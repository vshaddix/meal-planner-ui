(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(53)},45:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),i=n.n(c),s=n(2);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(1),o=n(22),l=n(34),p=n(13),m={uoms:[],responseMessage:"",successfulRequest:null},f={ingredients:[],responseMessage:"",successfulRequest:null},E={categories:[],responseMessage:"",successfulRequest:null},d={name:"",steps:"",photo:"",ingredients:[],categories:[],isCreated:!1,hasError:!1},h=[],g=Object(o.c)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"REGISTER_USER":return Object(u.a)({},e,{response:n});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"LOGIN_USER":return Object(u.a)({},e,{response:n});default:return e}},unitOfMeasure:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"FETCH_ALL_UNITS_OF_MEASURE":return Object(u.a)({},e,{uoms:n});case"CREATE_UNIT_OF_MEASURE":return Object(u.a)({},e,{uoms:[].concat(Object(p.a)(e.uoms),[n.unit_of_measure])});case"CREATE_UNIT_OF_MEASURE_ERROR":return Object(u.a)({},e,{responseMessage:n.message,successfulRequest:!1});case"CREATE_UNIT_OF_MEASURE_SUCCESS":return Object(u.a)({},e,{responseMessage:n.message,successfulRequest:!0});default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"FETCH_ALL_INGREDIENTS":return Object(u.a)({},e,{ingredients:n});case"CREATE_INGREDIENT":return Object(u.a)({},e,{ingredients:[].concat(Object(p.a)(e.ingredients),[n.ingredient])});case"CREATE_INGREDIENT_ERROR":return Object(u.a)({},e,{responseMessage:n.message,successfulRequest:!1});case"CREATE_INGREDIENT_SUCCESS":return Object(u.a)({},e,{responseMessage:n.message,successfulRequest:!0});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"FETCH_ALL_CATEGORIES":return Object(u.a)({},e,{categories:n});case"CREATE_CATEGORY":return Object(u.a)({},e,{categories:[].concat(Object(p.a)(e.categories),[n.category])});case"CREATE_CATEGORY_ERROR":return Object(u.a)({},e,{responseMessage:n.message,successfulRequest:!1});case"CREATE_CATEGORY_SUCCESS":return Object(u.a)({},e,{responseMessage:n.message,successfulRequest:!0});default:return e}},NewRecipeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"CREATE_CATEGORY_SUCCESS":return Object(u.a)({},e,{isCreated:!0,hasError:!1});case"CREATE_CATEGORY_ERROR":return Object(u.a)({},e,{isCreated:!1,hasError:!0});case"ADD_STEPS_TO_NEW_RECIPE":return Object(u.a)({},e,{steps:n});case"ADD_TITLE_TO_NEW_RECIPE":return Object(u.a)({},e,{name:n});case"ADD_CATEGORY_TO_NEW_RECIPE":var a={name:n.name,public_id:n.public_id},r=[].concat(Object(p.a)(e.categories),[a]);return Object(u.a)({},e,{categories:r});case"REMOVE_CATEGORY_FROM_NEW_RECIPE":var c=e.categories.filter(function(e){return e.public_id!==n.public_id});return Object(u.a)({},e,{categories:c});case"ADD_INGREDIENT_TO_NEW_RECIPE":var i={ingredient:n.ingredient,unit_of_measure:n.unitOfMeasure,value:n.quantity},s=e.ingredients.filter(function(e){return e.ingredient.public_id!==n.ingredient.public_id}),o=[].concat(Object(p.a)(s),[i]);return Object(u.a)({},e,{ingredients:o});default:return e}},RecipeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"FETCH_ALL_RECIPES":return Object(p.a)(n.data);default:return e}}}),b=function(){return Object(u.a)({},Object(o.d)(g,Object(o.a)(l.a)))},v=n(18),O=n(3),y=n(6),j=n(8),R=n(7),C=n(9);function _(){return Boolean(localStorage.getItem("token"))}function N(){return localStorage.getItem("token")}var w=n(11),T=(n(45),function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{className:"navigation"},r.a.createElement("li",null,r.a.createElement(w.c,{activeClassName:"active",to:"/dashboard"},"Home")),r.a.createElement("li",null,r.a.createElement(w.c,{activeClassName:"active",to:"/uoms"},"Unit of measures")),r.a.createElement("li",null,r.a.createElement(w.c,{activeClassName:"active",to:"/ingredients"},"Ingredients")),r.a.createElement("li",null,r.a.createElement(w.c,{activeClassName:"active",to:"/categories"},"Categories")),r.a.createElement("li",null,r.a.createElement(w.c,{activeClassName:"active",to:"/recipes"},"Recipes")))}}]),t}(a.Component)),S=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=_()?r.a.createElement(T,null):"";return r.a.createElement("div",null,r.a.createElement("h3",null,"Meal planning web software"),r.a.createElement("div",null,e))}}]),t}(a.Component),A=n(26),I=function(e){var t=e.component,n=Object(A.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},n,{render:function(e){return _()?r.a.createElement("div",{style:{marginLeft:"5%",marginRight:"5%",paddingTop:"3%"}},r.a.createElement(t,e)):r.a.createElement(v.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},k=function(e){var t=e.component,n=Object(A.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},n,{render:function(e){return"/"===e.location.pathname?r.a.createElement(v.a,{to:{pathname:"/dashboard",state:{from:e.location}}}):r.a.createElement(t,e)}}))},U=n(5),M=n.n(U),P=n(10),G=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("https://meal-planner-api-python.herokuapp.com/user/",t).then(function(e){return e.json()}).then(function(e){return e})},D=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("https://meal-planner-api-python.herokuapp.com/auth/login",t).then(function(e){return e.json()}).then(function(e){return e})},x=function(e){return function(){var t=Object(P.a)(M.a.mark(function t(n){var a;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:a=t.sent,n({type:"REGISTER_USER",payload:a});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(P.a)(M.a.mark(function t(n){var a;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:a=t.sent,n({type:"LOGIN_USER",payload:a});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},F=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(j.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).onHandleLogin=function(e){e.preventDefault();var t={email:e.target.email.value,password:e.target.password.value};n.props.dispatch(L(t))},n}return Object(C.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e,t;return this.props.response.login.hasOwnProperty("response")&&(e=this.props.response.login.response.status,t=this.props.response.login.response.message,e)?(localStorage.removeItem("token"),localStorage.setItem("token",this.props.response.login.response.Authorization),r.a.createElement(v.a,{to:{pathname:"/dashboard",state:{from:this.props.location}}})):r.a.createElement("div",null,r.a.createElement("h3",null,"Login Page"),e?"":r.a.createElement("div",null,t),r.a.createElement("form",{onSubmit:this.onHandleLogin},r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email"})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password"})),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))),"Don't have account? ",r.a.createElement(w.b,{to:"register"},"Register here"))}}]),t}(a.Component),H=Object(s.b)(function(e){return{response:e}})(F),Y=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(j.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).onHandleRegistration=function(e){e.preventDefault();var t={username:e.target.name.value,email:e.target.email.value,password:e.target.password.value};n.props.dispatch(x(t))},n}return Object(C.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e,t;if(this.props.response.register.hasOwnProperty("response")){if(t=this.props.response.register.response.status)return localStorage.removeItem("token"),localStorage.setItem("token",this.props.response.register.response.Authorization),r.a.createElement(v.a,{to:{pathname:"/dashboard",state:{from:this.props.location}}});e=this.props.response.register.response.message}return r.a.createElement("div",null,r.a.createElement("h3",null,"RegisterPage"),t?"":r.a.createElement("div",null,e),r.a.createElement("form",{onSubmit:this.onHandleRegistration},r.a.createElement("div",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name"})),r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email"})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password"})),r.a.createElement("div",null,r.a.createElement("button",null,"Register"))),"Already have account? ",r.a.createElement(w.b,{to:"login"},"Login here"))}}]),t}(a.Component),q=Object(s.b)(function(e){return{response:e}},null)(Y),W=function(e){function t(){return Object(O.a)(this,t),Object(j.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Dashboard")}}]),t}(a.Component),B=(n(48),function(e){var t=e.uoms;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name))})))});B.defaultProps={uoms:[]};var J=Object(s.b)(function(e){return{uoms:e.unitOfMeasure.uoms}},null)(B),z=n(19),V=function(){function e(t){Object(O.a)(this,e),this.apiUrl=(t||"https://meal-planner-api-python.herokuapp.com")+"/uom/",this.fetch=this.fetch.bind(this),this.createNewUom=this.createNewUom.bind(this),this.fetchAllUnitsOfMeasure=this.fetchAllUnitsOfMeasure.bind(this)}return Object(y.a)(e,[{key:"createNewUom",value:function(e){return this.fetch(this.apiUrl,{method:"POST",body:JSON.stringify(e)})}},{key:"fetchAllUnitsOfMeasure",value:function(){return this.fetch(this.apiUrl,{method:"GET"})}},{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n={Accept:"application/json","Content-Type":"application/json"};return _()&&(n.Authorization=N()),fetch(e,Object(u.a)({headers:n},t)).then(function(e){return e.json()})})}]),e}(),Q=function(){return function(){var e=Object(P.a)(M.a.mark(function e(t){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new V,e.next=3,n.fetchAllUnitsOfMeasure();case 3:a=e.sent,t({type:"FETCH_ALL_UNITS_OF_MEASURE",payload:a.data});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},$=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(R.a)(t).call(this,e))).state={uomName:""},n.createNewUom=n.createNewUom.bind(Object(z.a)(n)),n}return Object(C.a)(t,e),Object(y.a)(t,[{key:"createNewUom",value:function(){var e,t={name:this.state.uomName};this.props.dispatch((e=t,function(){var t=Object(P.a)(M.a.mark(function t(n){var a,r;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new V,t.next=3,a.createNewUom(e);case 3:"fail"===(r=t.sent).status?n({type:"CREATE_UNIT_OF_MEASURE_ERROR",payload:r}):(n({type:"CREATE_UNIT_OF_MEASURE_SUCCESS",payload:r}),n({type:"CREATE_UNIT_OF_MEASURE",payload:r}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}},{key:"render",value:function(){var e=this,t="";return this.props.response.unitOfMeasure.hasOwnProperty("responseMessage")&&(t=this.props.response.unitOfMeasure.responseMessage),r.a.createElement("div",null,r.a.createElement("h4",null,"Add a new unit of measure"),r.a.createElement("h5",null,t),r.a.createElement("div",{className:"uom-form"},r.a.createElement("label",{htmlFor:"uom-name"},"Name:"),r.a.createElement("input",{onChange:function(t){return e.setState({uomName:t.target.value})},value:this.state.uomName,name:"uom-name",type:"text"}),r.a.createElement("button",{onClick:this.createNewUom},"Create")))}}]),t}(a.Component),K=Object(s.b)(function(e){return{response:e}},null)($),X=Object(s.b)(null,function(e){return{fetchUnitsOfMeasure:function(){e(Q())}}})(function(e){var t=e.fetchUnitsOfMeasure;return Object(a.useEffect)(function(){t()}),r.a.createElement("div",null,r.a.createElement("h2",null,"Unit of measures"),r.a.createElement(K,null),r.a.createElement("div",null,r.a.createElement(J,null)))}),Z=(n(49),function(e){var t=e.ingredients;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name))})))});Z.defaultProps={ingredients:[]};var ee=Object(s.b)(function(e){return{ingredients:e.ingredients.ingredients}},null)(Z),te=function(){function e(t){Object(O.a)(this,e),this.apiUrl=(t||"https://meal-planner-api-python.herokuapp.com")+"/ingredient/",this.fetch=this.fetch.bind(this),this.createNewIngredient=this.createNewIngredient.bind(this),this.fetchAllIngredients=this.fetchAllIngredients.bind(this)}return Object(y.a)(e,[{key:"createNewIngredient",value:function(e){return this.fetch(this.apiUrl,{method:"POST",body:JSON.stringify(e)})}},{key:"fetchAllIngredients",value:function(){return this.fetch(this.apiUrl,{method:"GET"})}},{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n={Accept:"application/json","Content-Type":"application/json"};return _()&&(n.Authorization=N()),fetch(e,Object(u.a)({headers:n},t)).then(function(e){return e.json()})})}]),e}(),ne=function(){return function(){var e=Object(P.a)(M.a.mark(function e(t){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new te,e.next=3,n.fetchAllIngredients();case 3:a=e.sent,t({type:"FETCH_ALL_INGREDIENTS",payload:a.data});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ae=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(R.a)(t).call(this,e))).state={ingredientName:""},n.createNewIngredient=n.createNewIngredient.bind(Object(z.a)(n)),n}return Object(C.a)(t,e),Object(y.a)(t,[{key:"createNewIngredient",value:function(){var e,t={name:this.state.ingredientName};this.props.dispatch((e=t,function(){var t=Object(P.a)(M.a.mark(function t(n){var a,r;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new te,t.next=3,a.createNewIngredient(e);case 3:"fail"===(r=t.sent).status?n({type:"CREATE_INGREDIENT_ERROR",payload:r}):(n({type:"CREATE_INGREDIENT_SUCCESS",payload:r}),n({type:"CREATE_INGREDIENT",payload:r}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}},{key:"render",value:function(){var e=this,t="";return this.props.response.ingredients.hasOwnProperty("responseMessage")&&(t=this.props.response.ingredients.responseMessage),r.a.createElement("div",null,r.a.createElement("h4",null,"Add a new ingredient"),r.a.createElement("h5",null,t),r.a.createElement("div",{className:"ingredient-form"},r.a.createElement("label",{htmlFor:"ingredient-name"},"Name:"),r.a.createElement("input",{onChange:function(t){return e.setState({ingredientName:t.target.value})},value:this.state.ingredientName,name:"ingredient-name",type:"text"}),r.a.createElement("button",{onClick:this.createNewIngredient},"Create")))}}]),t}(a.Component),re=Object(s.b)(function(e){return{response:e}},null)(ae),ce=Object(s.b)(null,function(e){return{fetchIngredients:function(){e(ne())}}})(function(e){var t=e.fetchIngredients;return Object(a.useEffect)(function(){t()}),r.a.createElement("div",null,r.a.createElement("h2",null,"Ingredients"),r.a.createElement(re,null),r.a.createElement("div",null,r.a.createElement(ee,null)))}),ie=(n(50),function(e){var t=e.categories;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name))})))});ie.defaultProps={categories:[]};var se=Object(s.b)(function(e){return{categories:e.categories.categories}},null)(ie),ue=n(12),oe=n.n(ue),le=function(){function e(t){Object(O.a)(this,e),this.apiBaseUrl=t||"https://meal-planner-api-python.herokuapp.com",this.apiUri="",this.fetch=this.fetch.bind(this),this.createNew=this.createNew.bind(this),this.fetchAll=this.fetchAll.bind(this)}return Object(y.a)(e,[{key:"createNew",value:function(e){return this.fetch(this.apiUrl,{method:"POST",body:JSON.stringify(e)})}},{key:"fetchAll",value:function(){return this.fetch(this.apiUrl,{method:"GET"})}},{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n={Accept:"application/json","Content-Type":"application/json"};return _()&&(n.Authorization=N()),fetch(e,Object(u.a)({headers:n},t)).then(function(e){return e.json()})})},{key:"apiUrl",get:function(){return"".concat(this.apiBaseUrl,"/").concat(this.apiUri)}}]),e}();le.propTypes={apiUri:oe.a.string.isRequired};var pe=le,me=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(j.a)(this,Object(R.a)(t).apply(this,arguments))).apiUri="category/",e}return Object(C.a)(t,e),t}(pe),fe=function(){return function(){var e=Object(P.a)(M.a.mark(function e(t){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new me,e.next=3,n.fetchAll();case 3:a=e.sent,t({type:"FETCH_ALL_CATEGORIES",payload:a.data});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ee=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(R.a)(t).call(this,e))).state={categoryName:""},n.createNewCategory=n.createNewCategory.bind(Object(z.a)(n)),n}return Object(C.a)(t,e),Object(y.a)(t,[{key:"createNewCategory",value:function(){var e,t={name:this.state.categoryName};this.props.dispatch((e=t,function(){var t=Object(P.a)(M.a.mark(function t(n){var a,r;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new me,t.next=3,a.createNew(e);case 3:"fail"===(r=t.sent).status?n({type:"CREATE_CATEGORY_ERROR",payload:r}):(n({type:"CREATE_CATEGORY_SUCCESS",payload:r}),n({type:"CREATE_CATEGORY",payload:r}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}},{key:"render",value:function(){var e=this,t="";return this.props.response.categories.hasOwnProperty("responseMessage")&&(t=this.props.response.categories.responseMessage),r.a.createElement("div",null,r.a.createElement("h4",null,"Add a new category"),r.a.createElement("h5",null,t),r.a.createElement("div",{className:"category-form"},r.a.createElement("label",{htmlFor:"category-name"},"Name:"),r.a.createElement("input",{onChange:function(t){return e.setState({categoryName:t.target.value})},value:this.state.categoryName,name:"category-name",type:"text"}),r.a.createElement("button",{onClick:this.createNewCategory},"Create")))}}]),t}(a.Component),de=Object(s.b)(function(e){return{response:e}},null)(Ee),he=Object(s.b)(null,function(e){return{fetchCategories:function(){e(fe())}}})(function(e){var t=e.fetchCategories;return Object(a.useEffect)(function(){t()}),r.a.createElement("div",null,r.a.createElement("h2",null,"Categories"),r.a.createElement(de,null),r.a.createElement("div",null,r.a.createElement(se,null)))}),ge=n(21),be=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(j.a)(this,Object(R.a)(t).apply(this,arguments))).apiUri="recipe/",e}return Object(C.a)(t,e),t}(pe),ve=(n(51),function(e){var t=e.categories,n=e.selectCategory,c=e.removeCategoryFromSelected,i=Object(a.useState)([]),s=Object(ge.a)(i,2),u=s[0],o=s[1],l=function(e){if(e){var a=t.find(function(t){return t.public_id===e});n(a),o([].concat(Object(p.a)(u),[a]))}};return r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return l(e.target.value)},className:"Category",id:""},r.a.createElement("option",{value:""},"Select category"),t.map(function(e){return r.a.createElement("option",{key:e.public_id,onSelect:function(){return l(e)},value:e.public_id},e.name)})),r.a.createElement("div",{className:"selected-categories"},u.map(function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("span",{className:"selected"},e.name),r.a.createElement("button",{onClick:function(){return function(e){c(e);var t=u.filter(function(t){return t.name!==e.name});o(t)}(e)}},"Remove"))})))});ve.defaultProps={categories:[]};var Oe=Object(s.b)(function(e){return{categories:e.categories.categories}},function(e){return{selectCategory:function(t){e(function(e){return{type:"ADD_CATEGORY_TO_NEW_RECIPE",payload:e}}(t))},removeCategoryFromSelected:function(t){e(function(e){return{type:"REMOVE_CATEGORY_FROM_NEW_RECIPE",payload:e}}(t))}}})(ve),ye=(n(52),function(e){var t=e.ingredients,n=e.unitsOfMeasure,c=e.addNewIngredient,i=Object(a.useState)(null),s=Object(ge.a)(i,2),u=s[0],o=s[1],l=Object(a.useState)(null),p=Object(ge.a)(l,2),m=p[0],f=p[1],E=Object(a.useState)(0),d=Object(ge.a)(E,2),h=d[0],g=d[1];return r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return function(e){if(e){var n=t.find(function(t){return t.public_id===e});c(n,m,h),o(n)}}(e.target.value)},className:"Ingredient",id:""},r.a.createElement("option",{value:""},"Select ingredient"),t.map(function(e){return r.a.createElement("option",{key:e.public_id,value:e.public_id},e.name)})),r.a.createElement("select",{onChange:function(e){return function(e){if(e){var t=n.find(function(t){return t.public_id===e});f(t),u&&c(u,t,h)}}(e.target.value)},className:"Ingredient-unit-of-measure",id:""},r.a.createElement("option",{value:""},"Select unit of measure"),n.map(function(e){return r.a.createElement("option",{key:e.public_id,value:e.public_id},e.name)})),r.a.createElement("label",{htmlFor:"quantity"},"Quantity:"),r.a.createElement("input",{type:"number",onChange:function(e){return t=e.target.value,g(t),void(u&&c(u,m,t));var t}}))});ye.defaultProps={ingredients:[]};var je=Object(s.b)(function(e){return{ingredients:e.ingredients.ingredients,unitsOfMeasure:e.unitOfMeasure.uoms}},function(e){return{addNewIngredient:function(t,n,a){e(function(e,t,n){return{type:"ADD_INGREDIENT_TO_NEW_RECIPE",payload:{ingredient:e,unitOfMeasure:t,quantity:n}}}(t,n,a))}}})(ye),Re=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(R.a)(t).call(this,e))).state={ingredientsCount:1,categories:[],title:"",steps:""},n.addTitleAction=e.addTitleToNewRecipe,n.addStepsToNewRecipe=e.addStepsToNewRecipe,n.createRecipe=e.createRecipe,n.createRecipeButtonHandler=n.createRecipeButtonHandler.bind(Object(z.a)(n)),n}return Object(C.a)(t,e),Object(y.a)(t,[{key:"createIngredients",value:function(){for(var e=[],t=0;t<this.state.ingredientsCount;t++)e.push(r.a.createElement(je,{key:t}));return e}},{key:"setTitle",value:function(e){this.setState({title:e},this.addTitleAction(e))}},{key:"setSteps",value:function(e){this.setState({steps:e},this.addStepsToNewRecipe(e))}},{key:"createRecipeButtonHandler",value:function(){this.createRecipe(this.props.response.NewRecipeReducer)}},{key:"render",value:function(){var e=this,t="";return this.props.response.NewRecipeReducer.isCreated&&(t="YEY, created!"),r.a.createElement("div",null,r.a.createElement("h4",null,"Add a new recipe"),r.a.createElement("h5",null,t),r.a.createElement("div",{className:"message"},t),r.a.createElement("div",{className:"recipe-form"},r.a.createElement("label",{htmlFor:"recipe-title"},"Title:"),r.a.createElement("input",{onChange:function(t){return e.setTitle(t.target.value)},value:this.state.title,name:"recipe-title",type:"text"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"recipe-categories"},r.a.createElement("span",null,"Select categories for this recipe"),r.a.createElement(Oe,null)),r.a.createElement("hr",null),r.a.createElement("div",{className:"recipe-ingredients"},r.a.createElement("span",null,"Select ingredients:"),r.a.createElement("button",{onClick:function(){return e.setState({ingredientsCount:e.state.ingredientsCount+1})}},"Add more!"),this.createIngredients()),r.a.createElement("hr",null),r.a.createElement("div",{className:"recipe-steps"},r.a.createElement("span",null,"How to prepare the recipe:"),r.a.createElement("textarea",{name:"recipe-steps",cols:"150",rows:"20",onInput:function(t){return e.setSteps(t.target.value)}})),r.a.createElement("hr",null),r.a.createElement("button",{onClick:this.createRecipeButtonHandler},"Create"))}}]),t}(a.Component),Ce=Object(s.b)(function(e){return{response:e}},function(e){return{addTitleToNewRecipe:function(t){e(function(e){return{type:"ADD_TITLE_TO_NEW_RECIPE",payload:e}}(t))},addStepsToNewRecipe:function(t){e(function(e){return{type:"ADD_STEPS_TO_NEW_RECIPE",payload:e}}(t))},createRecipe:function(t){e(function(e){return function(){var t=Object(P.a)(M.a.mark(function t(n){var a,r;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new be,t.next=3,a.createNew(e);case 3:"fail"===(r=t.sent).status?n({type:"CREATE_RECIPE_ERROR",payload:r}):(n({type:"CREATE_RECIPE_SUCCESS",payload:r}),n({type:"CREATE_RECIPE",payload:r}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(Re),_e=function(e){var t=e.recipe;if(t){var n=t.ingredients.map(function(e){return r.a.createElement("div",{key:e.ingredient.public_id},r.a.createElement("span",null,e.ingredient.name)," x ",e.value,r.a.createElement("span",null,e.unit_of_measure.name))}),a=t.categories.map(function(e){return r.a.createElement("div",{key:e.public_id},r.a.createElement("span",null,e.name))});return r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"content"},r.a.createElement("span",{className:"header"},t.name),r.a.createElement("div",{className:"description"},r.a.createElement("div",{className:"ingredients-list"},r.a.createElement("p",null,"Ingredients:"),n),r.a.createElement("hr",null),r.a.createElement("div",{className:"categories-list"},r.a.createElement("p",null,"Categories: "),a),r.a.createElement("hr",null),r.a.createElement("div",{className:"steps"},t.steps.split("\n").map(function(e){return r.a.createElement("p",{key:e},e)})))))}},Ne=function(e){e.ingredients,e.unitsOfMeasure;var t=e.recipes.map(function(e){return r.a.createElement(_e,{key:e.name,recipe:e})});return r.a.createElement("div",{className:"ui cards"},t)};Ne.defaultProps={ingredients:[],unitsOfMeasure:[],recipes:[]};var we=Object(s.b)(function(e){return{ingredients:e.ingredients.ingredients,unitsOfMeasure:e.unitOfMeasure.uoms,recipes:e.RecipeReducer}},null)(Ne),Te=Object(s.b)(null,function(e){return{fetchCategories:function(){e(fe())},fetchIngredients:function(){e(ne())},fetchUnitsOfMeasure:function(){e(Q())},fetchRecipes:function(){e(function(){var e=Object(P.a)(M.a.mark(function e(t){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new be,e.next=3,n.fetchAll();case 3:a=e.sent,t({type:"FETCH_ALL_RECIPES",payload:a});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(function(e){var t=e.fetchCategories,n=e.fetchIngredients,c=e.fetchUnitsOfMeasure,i=e.fetchRecipes;Object(a.useEffect)(function(){t(),n(),c(),i()});var s=Object(a.useState)(!1),u=Object(ge.a)(s,2),o=u[0],l=u[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"recipes-list"},r.a.createElement(we,null)),o&&r.a.createElement(Ce,null),r.a.createElement("button",{onClick:function(){return l(!o)}},"Add new recipe"))}),Se=b();i.a.render(r.a.createElement(s.a,{store:Se},r.a.createElement(function(){return r.a.createElement(w.a,null,r.a.createElement(k,{path:"/",component:S}),r.a.createElement(v.b,{path:"/login",component:H}),r.a.createElement(v.b,{path:"/register",component:q}),r.a.createElement(I,{path:"/dashboard",component:W}),r.a.createElement(I,{path:"/uoms",component:X}),r.a.createElement(I,{path:"/ingredients",component:ce}),r.a.createElement(I,{path:"/categories",component:he}),r.a.createElement(I,{path:"/recipes",component:Te}),r.a.createElement(I,{path:"/uoms/create",component:X}))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.ad5df6c3.chunk.js.map